<!-- material filters -->
<flex-row-center style="width: 100%; align-items: center; padding-top: 10px;">
  <flex-row [style.max-width.px]="ui.contentWidthPX" style="width: 100%;">
    <inline-block class="filter-label" (click)="applyFilter('All')" [class.selected]="state.materials.filter=='All'">All</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('New')" [class.selected]="state.materials.filter=='New'">New</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('Scanning')" [class.selected]="state.materials.filter=='Scanning'">Scanning</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('Image Processing')" [class.selected]="state.materials.filter=='Image Processing'">Image Processing</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('Shading')" [class.selected]="state.materials.filter=='Shading'">Shading</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('Completed')" [class.selected]="state.materials.filter=='Completed'">Completed</inline-block> 
  </flex-row>
</flex-row-center>

<!-- material cards on responsive grid -->
<app-content-width class="cm-grid-content row">
    <div class="row">
      <!-- a material card for each result -->
      <app-responsive-card 
        *ngFor="let material of backend.materials" 
        class="material-card col-xs-12 col-sm-6 col-md-4 col-lg-3"
        (click)="selectMaterial(material)"
        >
          <relative-block>
              <img mat-card-image [src]="material.imageURL" alt="Photo of {{ material.name }}">
              <flex-row class="cm-material-card-tags">
                  <mat-chip-list>
                    <mat-chip *ngFor="let tag of material.tags">{{ tag }}</mat-chip>
                  </mat-chip-list>
              </flex-row>
            </relative-block>
            <flex-row-center class="cm-material-card-name">{{ material.nameÂ }}</flex-row-center>
      </app-responsive-card>
  </div>
</app-content-width>

<!-- load more button -->
<button #nextButton [style.display]="backend.moreMaterials ? 'none' : 'none'" (click)="backend.loadMaterialsPage(backend.nextMaterialsCursor)">load more!</button>

<!-- material detail inside modal overlay -->
<app-modal-overlay *ngIf="selectedMaterial" (close)="closeModal()">
  <app-material-detail [material]="selectedMaterial"></app-material-detail>
</app-modal-overlay>