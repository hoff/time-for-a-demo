<!-- filters -->
<flex-row-center style="width: 100%; align-items: center; padding-top: 10px;">
  <flex-row [style.max-width.px]="ui.contentWidthPX" style="width: 100%;">
    <inline-block class="filter-label" (click)="applyFilter('All')" [class.selected]="state.materials.filter=='All'">All</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('New')" [class.selected]="state.materials.filter=='New'">New</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('Scanning')" [class.selected]="state.materials.filter=='Scanning'">Scanning</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('Image Processing')" [class.selected]="state.materials.filter=='Image Processing'">Image Processing</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('Shading')" [class.selected]="state.materials.filter=='Shading'">Shading</inline-block>
    <inline-block class="filter-label" (click)="applyFilter('Completed')" [class.selected]="state.materials.filter=='Completed'">Completed</inline-block> 
  </flex-row>
</flex-row-center>


<div style="padding-top: 40px;">
 
  <app-content-width>
    <div class="row">
      <!-- A material card -->
      <div *ngFor="let material of backend.materials" 
        (click)="selectMaterial(material)"
        class="material-card col-xs-12 col-sm-6 col-md-4 col-lg-3">
          <div class="box">
              <mat-card class="example-card" >
                  <mat-card-content>
                      <relative-block>
                        <img mat-card-image [src]="material.imageURL" alt="Photo of {{ material.name }}">
                        <flex-row style="position:absolute; left: 0; bottom:30px; z-index:2;">
                            <mat-chip-list>
                                <mat-chip *ngFor="let tag of material.tags">{{ tag }}</mat-chip>
                              </mat-chip-list>
                        </flex-row>
                      </relative-block>
                      <flex-row-center style="font-size: 16px;">{{ material.nameÂ }}</flex-row-center>
                  </mat-card-content>
              </mat-card>
          </div>
      </div>
  </div>
</app-content-width>

<!-- show only for demo -->
<button #nextButton [style.display]="backend.moreMaterials ? 'none' : 'none'" (click)="backend.loadMaterialsPage(backend.nextMaterialsCursor)">load more!</button>

</div>


<!-- modal overlay -->
<flex-row-center *ngIf="selectedMaterial" [@fadeInOut] style="overflow-y: scroll; z-index: 3; background-color: rgba(0, 0, 0, 0.8); position:fixed; top: 0; left: 0; width: 100vw; height: 100vh;">

  <!-- content on white -->
  <div 
    #container
    [style.max-width.px]="ui.modalWidthPX"
    [style.padding.px]="ui.modalPaddingPX"
    [style.height.px]="+container.scrollHeight"
    style="box-sizing: border-box; margin-top: 40px; margin-bottom: 400px;  width: 100%; background: white; position: relative; " >
    <!-- x close button --> 
    <flex-col-center-center style="width: 50px; height: 50px; cursor: pointer; position: absolute; top: 0px; right: 0px;" (click)="closeModal()">
        <i class="material-icons" style="font-size: 40px; color: lightgray;">clear</i>
    </flex-col-center-center>
    
    <!-- Detail View -->
    <app-material-detail [material]="selectedMaterial" style="display:block;"></app-material-detail>

  </div>

</flex-row-center>